#+TITLE: XenServer Admin Scripts
These are works in progress for performing common XenServer CLI tasks. They are somewhat site-specific and have some known bugs.

* Assumptions
  - name labels are unique among each type of object (VM, SR, network...); exception is local storage
  - each host has one local storage repository with name label 'Local storage'
  - host name label is same as hostname

* Environment variables
  - XE_SERVER
  - XE_PORT
  - XE_USER
  - XE_PASSWORD

* Reasons
  - common multi-step tasks are tedious with =xe=
  - =vm-uninstall= leaves orphan VDIs
  ...to be completed...

* Remaining work
** xs-* scripts [6/12]
   - [ ] set arg vars to avoid env vars; always initialize vars!
   - [ ] NFS mount scripts from XenGateway
   - [ ] "vm-make-golden-master" (maybe not)
   - [X] default to localhost for xs-vm-provision-local
   - [ ] generalize xs-vm-provision
   - [ ] =vm_host()= is a mess
   - [ ] vm-vnc-toggle for PV
*** xs-vm-install-from-template
    - [ ] use =xs-functions=
    - [ ] cli bug?
    - [X] set VCPUs
    - [ ] HVM-boot-params for Other install media
    - [ ] memory limits options
    - [ ] interactive bugs
      - [ ] empty string for dist
      - [ ] empty string for arch
      - [ ] empty string for version?
    - [ ] PV text/vnc console connection option
